<!DOCTYPE html>
<html lang="en">
<head>
<title>Map Viewer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<script src="map.js"></script>

<link rel="stylesheet" href="nouislider.css" />
<script src="nouislider.js"></script>
<script src="wNumb.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js" defer></script>

<link rel="stylesheet" href="map.css" />
<link rel="stylesheet" href="styles.css" />

</head>
<body onload="loaded()">
<div style="float:left;text-align:left;width:25%">
<table class="menu-table">
<tr><td>Map:</td><td><select name="select_map" id="select_map" onchange='map_selection(this);'></select></td></tr>
<tr><td>Level:</td><td><select name="select_level" id="select_level" onchange='level_selection(this);'></select></td></tr>
</table>
<br />
Zoom:<br />
<button onclick="zoom('map')">Map</button><br />
<button onclick="zoom('items')">Map &amp; Items</button><br />
<button onclick="zoom('lines')">All Lines</button><br />
<button onclick="zoom()">World</button><br />
<ul style="display:none;">
    <li><label><input type="checkbox" id="annotation" onclick="toggle_checkbox(this)"/> Annotations</label></li>
    <li><label><input type="checkbox" id="xxxx" onclick="toggle_checkbox(this)"/> Hidden Platforms</label></li>
    <li>
        <label><input type="checkbox" id="monster" onclick="toggle_checkbox(this)"/> Monsters</label>
        <ul>
            <li><label><input type="checkbox" id="monster-1" onclick="toggle_checkbox(this)"/> Fighter</label></li>
            <li><label><input type="checkbox" id="monster-2" onclick="toggle_checkbox(this)"/> Trooper</label></li>
            <li><label><input type="checkbox" id="monster-3" onclick="toggle_checkbox(this)"/> S'pht</label></li>
        </ul>
    </li>
    <li>
        <label><input type="checkbox" id="item" onclick="toggle_checkbox(this)"/> Items</label>
        <ul>
            <li><label><input type="checkbox" id="item-1" onclick="toggle_checkbox(this)"/> Magnum Ammo</label></li>
            <li><label><input type="checkbox" id="item-2" onclick="toggle_checkbox(this)"/> Rockets</label></li>
        </ul>
    </li>
    <li>
        <label><input type="checkbox" id="object" onclick="toggle_checkbox(this)"/> Objects</label>
        <ul>
            <li><label><input type="checkbox" id="object-1" onclick="toggle_checkbox(this)"/> Barrel</label></li>
            <li><label><input type="checkbox" id="object-2" onclick="toggle_checkbox(this)"/> Paper</label></li>
        </ul>
    </li>
    <li>
        <label><input type="checkbox" id="panels" onclick="toggle_checkbox(this)"/> Panels</label>
        <ul>
            <li><label><input type="checkbox" id="panel-1" onclick="toggle_checkbox(this)"/> Terminal</label></li>
            <li><label><input type="checkbox" id="panel-2" onclick="toggle_checkbox(this)"/> Switch</label></li>
            <li><label><input type="checkbox" id="panel-3" onclick="toggle_checkbox(this)"/> 1x Shields</label></li>
            <li><label><input type="checkbox" id="panel-4" onclick="toggle_checkbox(this)"/> 2x Shields</label></li>
            <li><label><input type="checkbox" id="panel-5" onclick="toggle_checkbox(this)"/> 3x Shields</label></li>
            <li><label><input type="checkbox" id="panel-6" onclick="toggle_checkbox(this)"/> Oxygen</label></li>
        </ul>
    </li>
    <li>
        <label><input type="checkbox" id="panel_line" onclick="toggle_checkbox(this)"/> Panel Lines</label>
        <ul>
            <li><label><input type="checkbox" id="xxxx-1" onclick="toggle_checkbox(this)"/> Terminal Teleporter</label></li>
            <li><label><input type="checkbox" id="xxxx-2" onclick="toggle_checkbox(this)"/> Terminal Switch</label></li>
            <li><label><input type="checkbox" id="xxxx-3" onclick="toggle_checkbox(this)"/> Platform Switch </label></li>
            <li><label><input type="checkbox" id="xxxx-4" onclick="toggle_checkbox(this)"/> Light Switch </label></li>
            <li><label><input type="checkbox" id="xxxx-5" onclick="toggle_checkbox(this)"/> Tag Switch </label></li>
        </ul>
    </li>
    <li>
        <label><input type="checkbox" id="trigger_line" onclick="toggle_checkbox(this)"/> Trigger Lines</label>
        <ul>
            <li><label><input type="checkbox" id="object-1" onclick="toggle_checkbox(this)"/> Teleporter</label></li>
            <li><label><input type="checkbox" id="object-1" onclick="toggle_checkbox(this)"/> Platform Trigger</label></li>
            <li><label><input type="checkbox" id="object-2" onclick="toggle_checkbox(this)"/> Light Trigger </label></li>
            <li><label><input type="checkbox" id="object-2" onclick="toggle_checkbox(this)"/> Tag Trigger </label></li>
        </ul>
    </li>
</ul>
Elevation:<br />
<button onclick="set_player_elevation()">Player</button><br />
<button onclick="set_initial_elevation()">Map</button><br />
<input type="radio" id="elevation-contained" name="elevation" value="contained" onchange='update_svg_style()' />
<label for="elevation-contained">Contained</label><br>
<input type="radio" id="elevation-intersection" name="elevation" value="intersection" checked="checked" onchange='update_svg_style()' />
<label for="elevation-intersection">Intersection</label><br>
<input type="radio" id="elevation-ceiling" name="elevation" value="ceiling" onchange='update_svg_style()' />
<label for="elevation-ceiling">Ceiling</label><br>
<input type="radio" id="elevation-floor" name="elevation" value="floor" onchange='update_svg_style()' />
<label for="elevation-floor">Floor</label><br>
<table class="elevation-table">
<tr><td>Ceiling:</td><td><span class="" id="ceiling-value"></span></td></tr>
<tr><td>Floor:</td><td><span class="" id="floor-value"></span></td></tr>
</table>
<label><input type="checkbox" id="lock-handles" onclick="update_handle_locks()"/> Lock Range</label>
<div id="elevation-slider"></div>
<script>
var slider = document.getElementById('elevation-slider');
noUiSlider.create(slider, {
    start: [0, 819/1024/32],
    range: {
        'min': -32,
        'max':  32
    },
//     step: .1,
    direction: 'rtl',
    orientation: 'vertical',
    behaviour: 'tap-drag',
    connect: true,
    pips: {
        mode: 'range',
        stepped: true,
        density: 2,
        filter: (value, type) => {
            return value % 1 ? 0 : 1;
        },
        format: wNumb({decimals: 2})
    },
//     tooltips: [
//         wNumb({decimals: 3}),
//         wNumb({decimals: 3}),
//     ],
});
var nodes = [
    document.getElementById('floor-value'),
    document.getElementById('ceiling-value')
];
slider.noUiSlider.on('update', function (values, handle, unencoded, isTap, positions) {
    nodes[handle].innerHTML = values[handle];
    update_svg_style();
});
// mergeTooltips(slider, 5, '<br /> â€” <br />');
</script>
</div>
<div><object id="map_object" type="image/svg+xml" data="logo.svg"/></div>
</body>
</html>
